# VitePress + TypeDoc è‡ªåŠ¨ API æ–‡æ¡£ç”Ÿæˆæ–¹æ¡ˆ - å®Œæˆæ€»ç»“

## âœ… æ–¹æ¡ˆæ¦‚è¿°

æœ¬æ–¹æ¡ˆä¸º Longmoo Utils Monorepo é¡¹ç›®è®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„è‡ªåŠ¨åŒ– API æ–‡æ¡£ç”Ÿæˆç³»ç»Ÿï¼Œä½¿ç”¨ VitePress ä½œä¸ºæ–‡æ¡£ç«™ç‚¹æ¡†æ¶ï¼Œç»“åˆ TypeDoc å’Œ typedoc-plugin-markdown æ’ä»¶å®ç°ä» TypeScript æºç è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ã€‚

## ğŸ“¦ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| VitePress | ^1.6.3 | ç°ä»£åŒ–çš„æ–‡æ¡£ç«™ç‚¹æ¡†æ¶ |
| TypeDoc | ^0.27.7 | TypeScript æ–‡æ¡£ç”Ÿæˆå™¨ |
| typedoc-plugin-markdown | ^4.4.3 | TypeDoc æ’ä»¶ï¼Œè¾“å‡º Markdown æ ¼å¼ |

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶

### 1. æ ¸å¿ƒæ–‡æ¡£

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `README_DOCS.md` | æ–‡æ¡£ç³»ç»Ÿæ¦‚è§ˆå’Œå¿«é€Ÿå¼€å§‹ |
| `DOCS_QUICKSTART.md` | å¿«é€Ÿå¼€å§‹æŒ‡å— |
| `DOCS_SETUP.md` | å®Œæ•´é…ç½®æ–¹æ¡ˆæ–‡æ¡£ï¼ˆè¯¦ç»†ï¼‰ |
| `DOCUMENTATION.md` | æ–‡æ¡£ç³»ç»Ÿæ€»ç´¢å¼• |
| `DOCS_SUMMARY.md` | æœ¬æ–‡ä»¶ï¼Œå®Œæˆæ€»ç»“ |

### 2. VitePress é…ç½®

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `docs/.vitepress/config.ts` | VitePress ä¸»é…ç½®æ–‡ä»¶ |
| `docs/.vitepress/theme/index.ts` | è‡ªå®šä¹‰ä¸»é¢˜å…¥å£ |
| `docs/.vitepress/theme/style.css` | è‡ªå®šä¹‰æ ·å¼ |
| `docs/.gitignore` | æ–‡æ¡£ç›®å½• Git å¿½ç•¥è§„åˆ™ |

### 3. æ–‡æ¡£é¡µé¢

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `docs/index.md` | æ–‡æ¡£é¦–é¡µ |
| `docs/README.md` | åº“æ¦‚è¿° |
| `docs/guide/index.md` | ä½¿ç”¨æŒ‡å— |

### 4. API æ–‡æ¡£ç´¢å¼•

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `docs/api/common/index.md` | Common åŒ… API ç´¢å¼• |
| `docs/api/browser/index.md` | Browser åŒ… API ç´¢å¼• |
| `docs/api/browser/README.md` | Browser åŒ…è¯´æ˜ |
| `docs/api/node/index.md` | Node åŒ… API ç´¢å¼• |
| `docs/api/node/README.md` | Node åŒ…è¯´æ˜ |

### 5. TypeDoc é…ç½®

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `typedoc.common.json` | Common åŒ…çš„ TypeDoc é…ç½® |
| `typedoc.browser.json` | Browser åŒ…çš„ TypeDoc é…ç½® |
| `typedoc.node.json` | Node åŒ…çš„ TypeDoc é…ç½® |

### 6. è‡ªåŠ¨éƒ¨ç½²

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `.github/workflows/docs.yml` | GitHub Actions è‡ªåŠ¨éƒ¨ç½²é…ç½® |

### 7. é…ç½®æ›´æ–°

| æ–‡ä»¶ | æ›´æ–°å†…å®¹ |
|------|----------|
| `package.json` | æ·»åŠ æ–‡æ¡£ç›¸å…³ä¾èµ–å’Œè„šæœ¬ |

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

1. **è‡ªåŠ¨åŒ–ç”Ÿæˆ**: ä» TypeScript æºç çš„ JSDoc æ³¨é‡Šè‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£
2. **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹ä¿¡æ¯
3. **ç°ä»£åŒ–ç•Œé¢**: VitePress æä¾›ç¾è§‚ã€å¿«é€Ÿçš„æ–‡æ¡£ä½“éªŒ
4. **æœç´¢åŠŸèƒ½**: å†…ç½®å…¨æ–‡æœç´¢
5. **å“åº”å¼è®¾è®¡**: å®Œç¾æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
6. **ç‰ˆæœ¬æ§åˆ¶**: æ–‡æ¡£éšä»£ç ä¸€èµ·ç‰ˆæœ¬åŒ–

### ğŸ“‹ è¯¦ç»†ç‰¹æ€§

#### TypeDoc é…ç½®ç‰¹ç‚¹

- âœ… éšè—è‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•å’Œé¢åŒ…å±‘ï¼ˆç”± VitePress æ¥ç®¡ï¼‰
- âœ… åªå¯¼å‡ºå…¬å…± APIï¼ˆæ’é™¤ private/protected/internalï¼‰
- âœ… ä½¿ç”¨ä»£ç å—æ ¼å¼æ˜¾ç¤ºç±»å‹ç­¾å
- âœ… è‡ªåŠ¨æ‰©å±•å‚æ•°è¯´æ˜
- âœ… æ”¯æŒ JSDoc æ³¨é‡Šæ ¼å¼

#### VitePress é…ç½®ç‰¹ç‚¹

- âœ… æ¸…æ™°çš„å¯¼èˆªç»“æ„
- âœ… ä¾§è¾¹æ æŒ‰åŒ…å’Œæ¨¡å—åˆ†ç±»
- âœ… æœ€åæ›´æ–°æ—¶é—´æ˜¾ç¤º
- âœ… å¹²å‡€çš„ URLï¼ˆå¯ç”¨ cleanUrlsï¼‰
- âœ… ç¤¾äº¤é“¾æ¥ï¼ˆGitHubï¼‰
- âœ… æœ¬åœ°æœç´¢åŠŸèƒ½

#### è‡ªåŠ¨éƒ¨ç½²ç‰¹ç‚¹

- âœ… GitHub Actions è‡ªåŠ¨è§¦å‘
- âœ… è‡ªåŠ¨å®‰è£…ä¾èµ–
- âœ… è‡ªåŠ¨æ„å»ºåŒ…
- âœ… è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£
- âœ… è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pages

## ğŸ“Š å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         1. å¼€å‘è€…ç¼–å†™ TypeScript æºç               â”‚
â”‚     åŒ…å« JSDoc æ³¨é‡Š                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         2. è¿è¡Œ pnpm build                       â”‚
â”‚     æ„å»ºæ‰€æœ‰åŒ…ï¼Œç”Ÿæˆç±»å‹å®šä¹‰                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         3. è¿è¡Œ pnpm docs:api                    â”‚
â”‚     TypeDoc ä»æºç æå–æ–‡æ¡£                        â”‚
â”‚     ç”Ÿæˆ Markdown æ ¼å¼                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         4. è¿è¡Œ pnpm docs:build                  â”‚
â”‚     VitePress æ„å»ºé™æ€æ–‡æ¡£ç«™ç‚¹                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         5. éƒ¨ç½²æ–‡æ¡£ç«™ç‚¹                          â”‚
â”‚     æ‰‹åŠ¨æˆ–é€šè¿‡ GitHub Actions è‡ªåŠ¨éƒ¨ç½²            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ å¯ç”¨å‘½ä»¤

### æ–‡æ¡£ç›¸å…³

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm docs:dev

# æ„å»ºæ–‡æ¡£ç«™ç‚¹
pnpm docs:build

# é¢„è§ˆæ„å»ºçš„æ–‡æ¡£
pnpm docs:preview

# ç”Ÿæˆæ‰€æœ‰åŒ…çš„ API æ–‡æ¡£
pnpm docs:api

# ç”Ÿæˆ API æ–‡æ¡£å¹¶æ„å»ºç«™ç‚¹
pnpm docs
```

### å•ç‹¬ç”Ÿæˆ API æ–‡æ¡£

```bash
# ç”Ÿæˆ Common åŒ…çš„ API æ–‡æ¡£
pnpm docs:api:common

# ç”Ÿæˆ Browser åŒ…çš„ API æ–‡æ¡£
pnpm docs:api:browser

# ç”Ÿæˆ Node åŒ…çš„ API æ–‡æ¡£
pnpm docs:api:node
```

## ğŸ“ ä»£ç æ³¨é‡Šè§„èŒƒ

### JSDoc æ ‡ç­¾ç¤ºä¾‹

```typescript
/**
 * å‡½æ•°ç®€çŸ­æè¿°ï¼ˆå¿…éœ€ï¼‰
 *
 * è¯¦ç»†æè¿°ï¼ˆå¯é€‰ï¼‰ï¼Œå¯ä»¥åŒ…å«å¤šè¡Œæ–‡æœ¬ã€‚
 *
 * @example
 * ```ts
 * const result = myFunction('arg')
 * // => 'expected result'
 * ```
 *
 * @param paramName - å‚æ•°æè¿°
 * @returns è¿”å›å€¼æè¿°
 * @throws å¯èƒ½æŠ›å‡ºçš„é”™è¯¯
 * @since 1.0.0
 * @deprecated å¦‚æœå·²åºŸå¼ƒ
 * @see ç›¸å…³é“¾æ¥
 */
export function myFunction(paramName: string): ReturnType {
  // å®ç°
}
```

### æ”¯æŒçš„ JSDoc æ ‡ç­¾

| æ ‡ç­¾ | ç”¨é€” |
|------|------|
| `@param` | å‚æ•°è¯´æ˜ |
| `@returns` | è¿”å›å€¼è¯´æ˜ |
| `@example` | ä½¿ç”¨ç¤ºä¾‹ |
| `@throws` | å¯èƒ½æŠ›å‡ºçš„é”™è¯¯ |
| `@since` | ç‰ˆæœ¬ä¿¡æ¯ |
| `@deprecated` | åºŸå¼ƒæ ‡è®° |
| `@see` | ç›¸å…³é“¾æ¥ |

## ğŸ¨ è‡ªå®šä¹‰æŒ‡å—

### ä¿®æ”¹æ ·å¼

ç¼–è¾‘ `docs/.vitepress/theme/style.css`ï¼Œä¾‹å¦‚ï¼š

```css
/* è‡ªå®šä¹‰ä»£ç å—æ ·å¼ */
.vp-doc div[class*='language-'] {
  border-radius: 8px;
}
```

### ä¿®æ”¹ä¸»é¢˜

ç¼–è¾‘ `docs/.vitepress/theme/index.ts`ï¼š

```typescript
import DefaultTheme from 'vitepress/theme'
import './style.css'

export default DefaultTheme
```

### ä¿®æ”¹å¯¼èˆª

ç¼–è¾‘ `docs/.vitepress/config.ts` ä¸­çš„ `nav` å’Œ `sidebar` é…ç½®ã€‚

## ğŸ“‚ ç›®å½•ç»“æ„

```
longmoo-utils-monorepo/
â”œâ”€â”€ docs/                              # VitePress æ–‡æ¡£æ ¹ç›®å½•
â”‚   â”œâ”€â”€ .vitepress/                   # VitePress é…ç½®
â”‚   â”‚   â”œâ”€â”€ config.ts                # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ theme/                   # è‡ªå®šä¹‰ä¸»é¢˜
â”‚   â”‚       â”œâ”€â”€ index.ts             # ä¸»é¢˜å…¥å£
â”‚   â”‚       â””â”€â”€ style.css            # è‡ªå®šä¹‰æ ·å¼
â”‚   â”œâ”€â”€ api/                         # API æ–‡æ¡£ï¼ˆTypeDoc ç”Ÿæˆï¼‰
â”‚   â”‚   â”œâ”€â”€ common/                  # Common åŒ… API
â”‚   â”‚   â”‚   â”œâ”€â”€ index.md             # ç´¢å¼•
â”‚   â”‚   â”‚   â””â”€â”€ modules/             # è‡ªåŠ¨ç”Ÿæˆçš„æ¨¡å—æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ browser/                 # Browser åŒ… API
â”‚   â”‚   â”‚   â”œâ”€â”€ index.md
â”‚   â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â”‚   â””â”€â”€ modules/
â”‚   â”‚   â””â”€â”€ node/                    # Node åŒ… API
â”‚   â”‚       â”œâ”€â”€ index.md
â”‚   â”‚       â”œâ”€â”€ README.md
â”‚   â”‚       â””â”€â”€ modules/
â”‚   â”œâ”€â”€ guide/                       # ä½¿ç”¨æŒ‡å—
â”‚   â”‚   â””â”€â”€ index.md
â”‚   â”œâ”€â”€ index.md                     # é¦–é¡µ
â”‚   â”œâ”€â”€ README.md                    # åº“æ¦‚è¿°
â”‚   â””â”€â”€ .gitignore
â”œâ”€â”€ typedoc.common.json              # TypeDoc é…ç½® - Common
â”œâ”€â”€ typedoc.browser.json             # TypeDoc é…ç½® - Browser
â”œâ”€â”€ typedoc.node.json                # TypeDoc é…ç½® - Node
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ docs.yml                 # GitHub Actions è‡ªåŠ¨éƒ¨ç½²
â”œâ”€â”€ README_DOCS.md                   # æ–‡æ¡£ç³»ç»Ÿæ¦‚è§ˆ
â”œâ”€â”€ DOCS_QUICKSTART.md               # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ DOCS_SETUP.md                    # å®Œæ•´é…ç½®æ–‡æ¡£
â”œâ”€â”€ DOCUMENTATION.md                 # æ–‡æ¡£ç³»ç»Ÿç´¢å¼•
â””â”€â”€ DOCS_SUMMARY.md                  # æœ¬æ–‡ä»¶
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### æ—¥å¸¸å¼€å‘

1. ä¿®æ”¹æºä»£ç å’Œ JSDoc æ³¨é‡Š
2. è¿è¡Œ `pnpm docs:api` é‡æ–°ç”Ÿæˆ API æ–‡æ¡£
3. è¿è¡Œ `pnpm docs:dev` é¢„è§ˆæ›´æ”¹
4. ç¡®è®¤æ— è¯¯åæäº¤ä»£ç 

### å‘å¸ƒæ–°ç‰ˆæœ¬

1. æ›´æ–°ç‰ˆæœ¬å·
2. è¿è¡Œ `pnpm build` æ„å»ºæ‰€æœ‰åŒ…
3. è¿è¡Œ `pnpm docs` ç”Ÿæˆæ–‡æ¡£
4. æ¨é€ä»£ç ï¼Œè‡ªåŠ¨è§¦å‘ GitHub Actions éƒ¨ç½²

## ğŸ”§ æ•…éšœæ’é™¤

### TypeDoc ç”Ÿæˆå¤±è´¥

```bash
# ç¡®ä¿å·²æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
pnpm docs:api:common --logLevel Verbose
```

### VitePress æ„å»ºå¤±è´¥

```bash
# æ¸…ç†ç¼“å­˜
rm -rf docs/.vitepress/cache

# é‡æ–°æ„å»º
pnpm docs:build
```

## ğŸ“Š ä¼˜åŠ¿æ€»ç»“

âœ… **ä»£ç å³æ–‡æ¡£**: ä»æºç æ³¨é‡Šè‡ªåŠ¨ç”Ÿæˆï¼Œä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
âœ… **ç±»å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript ç±»å‹ä¿¡æ¯
âœ… **æ˜“äºç»´æŠ¤**: å•ç‚¹ç»´æŠ¤ï¼Œé¿å…æ–‡æ¡£è¿‡æ—¶
âœ… **ç°ä»£ä½“éªŒ**: VitePress æä¾›å¿«é€Ÿã€ç¾è§‚çš„æ–‡æ¡£ç«™ç‚¹
âœ… **è‡ªåŠ¨åŒ–**: é€šè¿‡ GitHub Actions å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²
âœ… **æœç´¢å‹å¥½**: å†…ç½®å…¨æ–‡æœç´¢åŠŸèƒ½
âœ… **å“åº”å¼**: å®Œç¾æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
âœ… **ç‰ˆæœ¬åŒ–**: æ–‡æ¡£éšä»£ç ä¸€èµ·ç‰ˆæœ¬åŒ–

## ğŸ“š ç›¸å…³èµ„æº

- [VitePress å®˜æ–¹æ–‡æ¡£](https://vitepress.dev/)
- [TypeDoc å®˜æ–¹æ–‡æ¡£](https://typedoc.org/)
- [typedoc-plugin-markdown æ–‡æ¡£](https://typedoc-plugin-markdown.org/)
- [JSDoc å®˜æ–¹æ–‡æ¡£](https://jsdoc.app/)

## ğŸš€ ä¸‹ä¸€æ­¥

1. è¿è¡Œ `pnpm docs:dev` å¯åŠ¨æ–‡æ¡£å¼€å‘æœåŠ¡å™¨
2. è®¿é—® http://localhost:5173 æŸ¥çœ‹æ–‡æ¡£
3. æ ¹æ®éœ€è¦è‡ªå®šä¹‰æ ·å¼å’Œé…ç½®
4. é…ç½® GitHub Actions è‡ªåŠ¨éƒ¨ç½²

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹é¡¹ç›® Issues
- æäº¤æ–°çš„ Issue
- å‚è€ƒå®˜æ–¹æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

MIT License

---

*æ–¹æ¡ˆè®¾è®¡å®Œæˆæ—¥æœŸ: 2025-01-21*
*æ–‡æ¡£æœ€åæ›´æ–°: 2025-01-21*
